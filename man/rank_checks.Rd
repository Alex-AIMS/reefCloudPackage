% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rank_checks.R
\name{rank_checks}
\alias{rank_checks}
\title{Check for Rank Deficiency and Update Model Formula}
\usage{
rank_checks(data.grp.tier.ready, HexPred_reefid2, selected_covar)
}
\arguments{
\item{data.grp.tier.ready}{A data frame with grouped tier-level monitoring data containing COUNT, Tier5, and fYEAR columns.}

\item{HexPred_reefid2}{A data frame of covariates (e.g., environmental predictors) with Tier5 and fYEAR for joining.}

\item{selected_covar}{Character vector of covariate names to include in the model formula.}
}
\value{
A list with two elements:
\describe{
  \item{status}{A character string: "pass" if the final model matrix is full rank, "fail" otherwise.}
  \item{formula}{A character string of the model formula used (with or without one redundant variable removed).}
}
}
\description{
Checks if the model matrix constructed from selected covariates is rank-deficient (i.e., contains redundant predictors).
If rank deficiency is detected, the function computes correlations among covariates and removes the first highly correlated variable.
It then re-tests rank and returns the updated formula and status.
}
\author{
Julie Vercelloni
}
